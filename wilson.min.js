(function(a){var b=function(a,b){return((a+1.9208)/(a+b)-1.96*Math.sqrt(a*b/(a+b)+.9604)/(a+b))/(1+3.8416/(a+b))},c=function(a){var b=a.length,c=[];while(b--)(function(b){var d=a[b],e=d.positive||0,f=d.negative||0;d.lb=_calculate(e,f);c.push(d)})(b);return c},d=function(a){var b=a.positive||0,c=a.negative||0;return _calculate(b,c)},e=function(a,b){return a.lb<b.lb?1:a.lb>b.lb?-1:0},f=function(a){return a.sort(e)};a.wilson={getScore:function(){var a=arguments[0],b=function(){};a.length&&(b=c);!a.length&&(b=d);return b(a)},getSorted:function(){var a=arguments[0],b=this.getScore(a);return f(b)}}})(this);